@page "/Clientes/Details/{ClienteId:int}"
@inject ClienteServices clienteServices
@inject NavigationManager NavigationManager

<h3>Detalles del Cliente</h3>

@if (cliente == null)
{
    <p><em>Cargando...</em></p>
}
else
{
    <div class="mb-3">
        <label><strong>Nombres:</strong></label>
        <p>@cliente.Nombres</p>
    </div>
    <div class="mb-3">
        <label><strong>RNC:</strong></label>
        <p>@cliente.Rnc</p>
    </div>
    <div class="mb-3">
        <label><strong>Dirección:</strong></label>
        <p>@cliente.Direccion</p>
    </div>
    <div class="mb-3">
        <label><strong>Límite de Crédito:</strong></label>
        <p>@cliente.LimiteCredito</p>
    </div>
    <div class="mb-3">
        <label><strong>Teléfonos:</strong></label>
        <ul>
            @foreach (var telefono in cliente.Telefonos)
            {
                <li>Tipo: @telefono.TipoId - Tel: @telefono.Telefono</li>
            }
        </ul>
    </div>
    <button class="btn btn-secondary" @onclick="Volver"><i class="fas fa-arrow-left"></i> Volver</button>
}

@code {
    [Parameter]
    public int ClienteId { get; set; }

    private Cliente? cliente;

    protected override async Task OnInitializedAsync()
    {
        cliente = await clienteServices.Buscar(ClienteId);
    }

    private void Volver()
    {
        NavigationManager.NavigateTo("/Clientes/Index");
    }
}
